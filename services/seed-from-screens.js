const supabase = require('./supabase');

async function seedFromScreens() {
  console.log("๐ ุฌุงุฑู ููู ุจูุงูุงุช ุงูุตูุฑ ุฅูู Supabase...");

  // 1. ุฅูุดุงุก ุงููุณุงุฑ ุงูุชุนูููู (ูู ุงูุตูุฑุฉ UAlger3...)
  const pathId = 'UAlger3_L1_ITCF';
  const { error: pathErr } = await supabase
    .from('educational_paths')
    .upsert([
      {
        id: pathId,
        display_name: 'ุงูุฅุชุตุงู ุงูุฑููู ู ุฅุฏุงุฑุฉ ุงูุฃุนูุงู (ITFC)',
        faculty_name: 'ูููุฉ ุงูุงุนูุงู ู ุงูุงุชุตุงู',
        institution_name: 'ุฌุงูุนุฉ ุงูุฌุฒุงุฆุฑ 3',
        major_name: 'ุงูุงุชุตุงู ุงูุฑููู ู ุงุฏุงุฑุฉ ุงูุงุนูุงู',
        level: 'university',
        year_label: 'ุณูุฉ ุฃููู ููุณุงูุณ'
      }
    ]);
  
  if (pathErr) console.error("โ ุฎุทุฃ ุงููุณุงุฑ:", pathErr);
  else console.log("โ ุชู ุฅูุดุงุก ุงููุณุงุฑ ุงูุฌุงูุนู");

  // 2. ุฅูุดุงุก ุงููุงุฏุฉ (ุฃุณุงุณูุงุช ุงูุงูุชุตุงุฏ - sub1)
  const subjectId = 'sub1';
  const { error: subErr } = await supabase
    .from('subjects')
    .upsert([
      {
        id: subjectId,
        path_id: pathId,
        name: 'ุฃุณุงุณูุงุช ุงูุงูุชุตุงุฏ',
        icon: 'landmark',
        color_primary: '#2ECC71',
        color_secondary: '#1F618D',
        total_lessons: 10,
        order_index: 0
      }
    ]);

  if (subErr) console.error("โ ุฎุทุฃ ุงููุงุฏุฉ:", subErr);
  else console.log("โ ุชูุช ุฅุถุงูุฉ ูุงุฏุฉ ุงูุงูุชุตุงุฏ");

  // 3. ุฅูุดุงุก ุงูุฏุฑุณ (sub1_les1) ููุญุชูุงู ุงูุทููู
  const lessonId = 'sub1_les1';
  const longContent = `ุงููุตู ุงูุฃูู: ููุฏูุฉ ูู ุนูู ุงูุงูุชุตุงุฏ ุฃููุงู ุจู ูู ุงูุฏุฑุณ ุงูุฃูู ูู ูุงุฏุฉ **ุฃุณุงุณูุงุช ุงูุงูุชุตุงุฏ**. 
  ูู ูุฐุง ุงููุตูุ ุณูุณุชูุดู ุงูููุงููู ุงูุฃุณุงุณูุฉ ุงูุชู ูููู ุนูููุง ูุฐุง ุงูุนูู ุงููุซูุฑ.
  ## ูุง ูู ุงูุงูุชุตุงุฏุ
  ุงูุงูุชุตุงุฏ ูู ุงูุนูู ุงูุงุฌุชูุงุนู ุงูุฐู ูุฏุฑุณ ููููุฉ ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุงููุญุฏูุฏุฉ ูุชูุจูุฉ ุงูุฑุบุจุงุช ุงูุจุดุฑูุฉ ุบูุฑ ุงููุญุฏูุฏุฉ.
  ูููุณู ุจุดูู ุฃุณุงุณู ุฅูู ูุฑุนูู:
  **ุงูุงูุชุตุงุฏ ุงูุฌุฒุฆู (Microeconomics):** ูุฑูุฒ ุนูู ุณููู ุงูุฃูุฑุงุฏ ูุงูุดุฑูุงุช.
  **ุงูุงูุชุตุงุฏ ุงูููู (Macroeconomics):** ูุฑูุฒ ุนูู ุงูุงูุชุตุงุฏ ููู.`;

  const { error: lesErr } = await supabase
    .from('lessons')
    .upsert([
      {
        id: lessonId,
        subject_id: subjectId,
        title: 'ูุฏุฎู ูุธุฑู ุนุงู ุฅูู ุนูู ุงูุฅูุชุตุงุฏ ู ุนูุงูุชู ุจุงูุนููู "ุงูุฃุฎุฑู"',
        duration: '15 min',
        content: longContent,
        order_index: 0
      }
    ]);

  if (lesErr) console.error("โ ุฎุทุฃ ุงูุฏุฑุณ:", lesErr);
  else console.log("โ ุชูุช ุฅุถุงูุฉ ุงูุฏุฑุณ ุงูุฃูู ููุญุชูุงู");

  // 4. (ููู ุฌุฏุงู) ุฅูุดุงุก ุจุฑููุงูู ุงููุณุชุฎุฏู "ุฅุณูุงู"
  // ููุงุญุธุฉ: ูู ุงููุงูุน ูุฌุจ ุฃู ูุณุฌู ุงููุณุชุฎุฏู ุฃููุงูุ ููููุง ุณููุดุฆ ุจุฑููุงูู ูููู ููุชุฌุฑุจุฉ
  // ุณุชุญุชุงุฌ ูุงุณุชุจุฏุงู 'USER_UUID_HERE' ุจู ID ุญูููู ุฅุฐุง ููุช ูุฏ ุณุฌูุช ุฏุฎูู ูู Supabase Auth
  // ุฃู ุณููุดุฆ ูุงุญุฏุงู ููููุงู ุงูุขู
  const myUUID = 'a8tJ1FYAUK...'; // ูุฐุง ูู ุงูุตูุฑุฉ (ุฑููู ุงูุชุนุฑููู) ุณูุณุชุฎุฏู ูุงุญุฏ ุฌุฏูุฏ ุฃู ููุณ ุงูููุฑูุงุช
  // ุจูุง ุฃู UUID ูุฌุจ ุฃู ูููู ุจุตูุบุฉ ุฎุงุตุฉุ ุฏุนูุง ูุชุฑู Supabase ููุดุฆู ุฃู ูุณุชุฎุฏู ููุชุจุฉ uuidุ
  // ููู ููุชุจุณูุท ุงูุขูุ ูููู ุจุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุชุนุฑูููุฉ ููุท
  
  // ููู ูุนูู ูุฐุง ุงูุฌุฒุกุ ูุฌุจ ุฃู ูููู ูุฏูู ูุณุชุฎุฏู ูุณุฌู ูู Authentication
  // ุฅุฐุง ูู ููู ูุฏููุ ุชุฌุงูู ูุฐุง ุงูุฌุฒุก ุงูุขู ูุฑูุฒ ูู ุงููุญุชูู ุงูุชุนูููู
  console.log("โ๏ธ ููุงุญุธุฉ: ูุฅุถุงูุฉ ุงูุจุฑููุงููุ ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู ูู ุงูุชุทุจูู ููุชู ุฅูุดุงุก ุงูู ID.");

}

seedFromScreens();